{
  "storyId": "virement",
  "botId": "new_assistant",
  "name": "virement",
  "description": "description",
  "debug": false,
  "mainIntent": "i_probleme_virement",
  "primaryIntents": [],
  "secondaryIntents": [
    "i_preciser_destination",
    "greetings",
    "i_preciser_montant",
    "farewell"
  ],
  "actions": [
    {
      "name": "HELLO",
      "description": "desc",
      "answerId": "app_tick_Bien le bonjour √† toi aussi !",
      "handler": null,
      "inputContextNames": [],
      "outputContextNames": [],
      "final": false
    },
    {
      "name": "S_CHECK_TRANSFER",
      "description": "desc",
      "answerId": null,
      "handler": "s_check_transfer",
      "inputContextNames": [
        "DESTINATION_VIREMENT",
        "MONTANT_VIREMENT"
      ],
      "outputContextNames": [
        "CANNOT_CHANGE_LIMIT",
        "LIMIT_EXCEDED",
        "CAN_CHANGE_LIMIT"
      ],
      "final": false
    },
    {
      "name": "S_CHECK_SERVICE_AVAILABLE",
      "description": "desc",
      "answerId": null,
      "handler": "s_check_service_available",
      "inputContextNames": [],
      "outputContextNames": [
        "SERVICE_AVAILABLE",
        "SERVICE_UNAVAILABLE"
      ],
      "final": false
    },
    {
      "name": "INTRODUCTION",
      "description": "desc",
      "answerId": "app_tick_Salut je suis Max ü§ñ, un robot √† 28 de Q.I., ce qui est plut√¥t √©lev√© pour mon esp√®ce. Je peux t'aider √† faire ton virement.",
      "handler": null,
      "inputContextNames": [],
      "outputContextNames": [],
      "final": false
    },
    {
      "name": "S_SHOW_MSG_CANNOT_CHANGE_LIMIT",
      "description": "desc",
      "answerId": "app_tick_Vous ne pouvez modifier vos plafonds dans l'app je vais vous mettre en relation avec un conseiller pour traiter votre demande",
      "handler": "s_service_unavailable_redirect",
      "inputContextNames": [
        "CANNOT_CHANGE_LIMIT",
        "LIMIT_EXCEDED"
      ],
      "outputContextNames": [
        "RESOLVE_LIMIT_DONE"
      ],
      "final": false
    },
    {
      "name": "S_ASK_TRANSFER_DESTINATION",
      "description": "desc",
      "answerId": "app_tick_C'est un virement pour la France ou l'√©tranger ?",
      "handler": null,
      "inputContextNames": [
        "SERVICE_AVAILABLE"
      ],
      "outputContextNames": [
        "DESTINATION_VIREMENT"
      ],
      "final": false
    },
    {
      "name": "S_SHOW_MSG_CAN_CHANGE_LIMIT",
      "description": "desc",
      "answerId": "app_tick_Vous pouvez modifier vos plafonds dans l'app",
      "handler": "s_service_unavailable_redirect",
      "inputContextNames": [
        "LIMIT_EXCEDED",
        "CAN_CHANGE_LIMIT"
      ],
      "outputContextNames": [
        "RESOLVE_LIMIT_DONE"
      ],
      "final": false
    },
    {
      "name": "S_RESOLVE_LIMIT",
      "description": "desc",
      "answerId": "app_tick_Fin de la Story, clean les contextes",
      "handler": null,
      "inputContextNames": [
        "RESOLVE_LIMIT_DONE"
      ],
      "outputContextNames": [],
      "final": true
    },
    {
      "name": "S_SERVICE_UNAVAILABLE_REDIRECT",
      "description": "desc",
      "answerId": "app_tick_D√©sol√©, le service n'est actuellement pas disponible sur l'application, je vais vous mettre en relation avec un conseiller qui pourra traiter votre demande",
      "handler": "s_service_unavailable_redirect",
      "inputContextNames": [
        "SERVICE_UNAVAILABLE"
      ],
      "outputContextNames": [
        "RESOLVE_LIMIT_DONE"
      ],
      "final": false
    },
    {
      "name": "S_ASK_TRANSFER_AMOUNT",
      "description": "desc",
      "answerId": "app_tick_Quel est le montant du virement que vous souhaitez effectuer ?",
      "handler": null,
      "inputContextNames": [
        "SERVICE_AVAILABLE"
      ],
      "outputContextNames": [
        "MONTANT_VIREMENT"
      ],
      "final": false
    },
    {
      "name": "BYE",
      "description": "desc",
      "answerId": "app_tick_Au revoir, √† la prochaine !",
      "handler": null,
      "inputContextNames": [],
      "outputContextNames": [],
      "final": true
    }
  ],
  "contexts": [
    {
      "name": "CANNOT_CHANGE_LIMIT",
      "entityType": null,
      "entityRole": null
    },
    {
      "name": "RESOLVE_LIMIT_DONE",
      "entityType": null,
      "entityRole": null
    },
    {
      "name": "MONTANT_VIREMENT",
      "entityType": "app:montant",
      "entityRole": "montant"
    },
    {
      "name": "DESTINATION_VIREMENT",
      "entityType": "app:destination",
      "entityRole": "destination"
    },
    {
      "name": "LIMIT_EXCEDED",
      "entityType": null,
      "entityRole": null
    },
    {
      "name": "CAN_CHANGE_LIMIT",
      "entityType": null,
      "entityRole": null
    },
    {
      "name": "SERVICE_AVAILABLE",
      "entityType": null,
      "entityRole": null
    },
    {
      "name": "SERVICE_UNAVAILABLE",
      "entityType": null,
      "entityRole": null
    }
  ],
  "stateMachine": {
    "id": "root",
    "type": "parallel",
    "initial": "Global",
    "states": {
      "Global": {
        "id": "Global",
        "type": null,
        "initial": "INTRODUCTION",
        "states": {
          "HELLO": {
            "id": "HELLO",
            "type": null,
            "initial": null,
            "states": {},
            "on": null
          },
          "BYE": {
            "id": "BYE",
            "type": null,
            "initial": null,
            "states": {},
            "on": null
          },
          "INTRODUCTION": {
            "id": "INTRODUCTION",
            "type": null,
            "initial": null,
            "states": {},
            "on": null
          },
          "S_TRANSFER_MANAGEMENT": {
            "id": "S_TRANSFER_MANAGEMENT",
            "type": null,
            "initial": "S_RESOLVE_LIMIT",
            "states": {
              "S_ASK_TRANSFER_AMOUNT": {
                "id": "S_ASK_TRANSFER_AMOUNT",
                "type": null,
                "initial": null,
                "states": {},
                "on": {}
              },
              "S_ASK_TRANSFER_DESTINATION": {
                "id": "S_ASK_TRANSFER_DESTINATION",
                "type": null,
                "initial": null,
                "states": {},
                "on": {}
              },
              "S_CHECK_TRANSFER": {
                "id": "S_CHECK_TRANSFER",
                "type": null,
                "initial": null,
                "states": {},
                "on": null
              },
              "S_CHECK_SERVICE_AVAILABLE": {
                "id": "S_CHECK_SERVICE_AVAILABLE",
                "type": null,
                "initial": null,
                "states": {},
                "on": null
              },
              "S_SERVICE_UNAVAILABLE_REDIRECT": {
                "id": "S_SERVICE_UNAVAILABLE_REDIRECT",
                "type": null,
                "initial": null,
                "states": {},
                "on": null
              },
              "S_SHOW_MSG_CAN_CHANGE_LIMIT": {
                "id": "S_SHOW_MSG_CAN_CHANGE_LIMIT",
                "type": null,
                "initial": null,
                "states": {},
                "on": null
              },
              "S_SHOW_MSG_CANNOT_CHANGE_LIMIT": {
                "id": "S_SHOW_MSG_CANNOT_CHANGE_LIMIT",
                "type": null,
                "initial": null,
                "states": {},
                "on": null
              },
              "S_RESOLVE_LIMIT": {
                "id": "S_RESOLVE_LIMIT",
                "type": null,
                "initial": null,
                "states": {},
                "on": null
              }
            },
            "on": {
              "i_preciser_montant": "#S_RESOLVE_LIMIT",
              "i_preciser_destination": "#S_RESOLVE_LIMIT"
            }
          }
        },
        "on": {
          "i_probleme_virement": "#S_TRANSFER_MANAGEMENT",
          "greetings": "#HELLO",
          "farewell": "#BYE"
        }
      }
    },
    "on": {}
  },
  "intentsContexts" : []
}