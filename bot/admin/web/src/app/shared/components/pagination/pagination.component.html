<!--
  ~ Copyright (C) 2017/2025 SNCF Connect & Tech
  ~
  ~ Licensed under the Apache License, Version 2.0 (the "License");
  ~ you may not use this file except in compliance with the License.
  ~ You may obtain a copy of the License at
  ~
  ~ http://www.apache.org/licenses/LICENSE-2.0
  ~
  ~ Unless required by applicable law or agreed to in writing, software
  ~ distributed under the License is distributed on an "AS IS" BASIS,
  ~ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  ~ See the License for the specific language governing permissions and
  ~ limitations under the License.
  -->

<div class="d-flex align-items-center">
  <div>
    <nb-select
      size="small"
      nbTooltip="Items per page"
      [(selected)]="pagination.size"
      (selectedChange)="paginationSize()"
    >
      <nb-option
        *ngFor="let size of sizes"
        [value]="size"
      >
        {{ size }}
      </nb-option>
    </nb-select>
  </div>

  <div class="mx-2">{{ paginationString() }}</div>

  <div class="d-flex">
    <button
      *ngIf="showPrevious()"
      nbButton
      nbTooltip="Previous page"
      ghost
      shape="round"
      (click)="paginationPrevious()"
      data-testid="back-button"
    >
      <nb-icon icon="chevron-left"></nb-icon>
    </button>
    <!-- Workaround because tooltip is not hiding if button is disabled programmatically. -->
    <button
      *ngIf="!showPrevious()"
      nbButton
      ghost
      shape="round"
      disabled
      data-testid="back-button"
    >
      <nb-icon icon="chevron-left"></nb-icon>
    </button>

    <button
      *ngIf="showNext()"
      nbButton
      nbTooltip="Next page"
      ghost
      shape="round"
      (click)="paginationNext()"
      data-testid="next-button"
    >
      <nb-icon icon="chevron-right"></nb-icon>
    </button>
    <!-- Workaround because tooltip is not hiding if button is disabled programmatically. -->
    <button
      *ngIf="!showNext()"
      nbButton
      ghost
      shape="round"
      disabled
      data-testid="next-button"
    >
      <nb-icon icon="chevron-right"></nb-icon>
    </button>
  </div>
</div>
