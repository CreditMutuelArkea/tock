{"id":"6357e6e0fce658016189b7f7","name":"Plafonds virement","category":"Plafonds","tags":["Plafonds","Virement"],"description":"","creationDate":"2022-10-25T13:38:40.901Z","updateDate":"2022-10-25T13:38:40.901Z","versions":[{"id":"6357e6e0fce658016189b7f8","creationDate":"2022-10-25T13:38:40.9Z","updateDate":"2022-10-25T13:39:53.277Z","state":"CURRENT","comment":"V2 CURRENT","data":{"mode":"publishing","scenarioItems":[{"id":0,"from":"client","text":"Bonjour je n'arrive pas à faire mon virement pouvez-vous m'aider?\n","main":true,"intentDefinition":{"label":"Bonjour je n'arrive pas à faire mon virement pouvez-vous m'aider?\n","name":"iproblemevirement","category":"scenarios","primary":true,"sentences":[],"outputContextNames":[],"intentId":"6357e71dfce658016189b7f9"}},{"id":1,"parentIds":[0],"from":"bot","text":"API - Vérifier si le service est up","actionDefinition":{"name":"VERIFIER_SERVICE_MODIFICATION_PLAFONDS","description":"API - Vérifier si le service est up","handler":"s_check_service_available","inputContextNames":[],"outputContextNames":["SERVICE_AVAILABLE","SERVICE_UNAVAILABLE"],"final":false}},{"id":2,"parentIds":[1],"from":"bot","text":"Pour quel montant?","actionDefinition":{"name":"DEMANDER_MONTANT","description":"Pour quel montant?","answer":"Pour quel montant?","inputContextNames":["SERVICE_AVAILABLE"],"outputContextNames":["MONTANT_VIREMENT"],"final":false,"answerId":"app_scenario_Pour quel montant?"}},{"id":3,"parentIds":[1],"from":"bot","text":"Le service est down, redirection vers un conseiller","actionDefinition":{"name":"REDIRECTION_CONSEILLER","description":"Le service est down, redirection vers un conseiller","handler":"s_service_unavailable_redirect","answer":"Le service est down, redirection vers un conseiller","inputContextNames":["SERVICE_UNAVAILABLE"],"outputContextNames":["RESOLVE_LIMIT_DONE"],"final":false,"answerId":"app_scenario_Le service est down, redirection vers un conseiller"}},{"id":4,"parentIds":[2],"from":"client","text":"2500€","intentDefinition":{"label":"Préciser un montant","name":"iprecisermontant","category":"scenarios","primary":false,"sentences":[],"outputContextNames":[],"intentId":"6357e720fce658016189b7fd"}},{"id":5,"parentIds":[4],"from":"bot","text":"En France ou à l'étranger?","actionDefinition":{"name":"DEMANDER_DESTINATION_VIREMENT","description":"En France ou à l'étranger?","answer":"En France ou à l'étranger?","inputContextNames":["SERVICE_AVAILABLE"],"outputContextNames":["DESTINATION_VIREMENT"],"final":false,"answerId":"app_scenario_En France ou à l'étranger?"}},{"id":6,"parentIds":[5],"from":"client","text":"En France","intentDefinition":{"label":"Préciser la destination (FR ou autre)","name":"ipreciserdestination","category":"scenarios","primary":false,"sentences":[],"outputContextNames":[],"intentId":"6357e722fce658016189b800"}},{"id":8,"parentIds":[6],"from":"bot","text":"API - Vérifier plafonds virement","actionDefinition":{"name":"VERIFIER_PLAFONDS","description":"API - Vérifier plafonds virement","handler":"s_check_transfer","inputContextNames":["MONTANT_VIREMENT","DESTINATION_VIREMENT"],"outputContextNames":["LIMIT_EXCEDED","CAN_CHANGE_LIMIT","CANNOT_CHANGE_LIMIT"],"final":false}},{"id":9,"parentIds":[8],"from":"bot","text":"Vous pouvez augmenter vos plafonds depuis l'application mobile","actionDefinition":{"name":"AFFICHER_PROCEDURE_MODIFICATION_PLAFOND_VIREMENT","description":"Vous pouvez augmenter vos plafonds depuis l'application mobile","handler":"s_show_msg_can_change_limit","answer":"Vous pouvez augmenter vos plafonds depuis l'application mobile","inputContextNames":["CAN_CHANGE_LIMIT","LIMIT_EXCEDED"],"outputContextNames":["RESOLVE_LIMIT_DONE"],"final":false,"answerId":"app_scenario_Vous pouvez augmenter vos plafonds depuis l'application mobile"}},{"id":10,"parentIds":[8],"from":"bot","text":"Je vais vous mettre en relation avec un conseiller qui va pouvoir traiter votre demande d'augmentation de plafonds de virement","actionDefinition":{"name":"REDIRECTION_CONSEILLER_MODIF_IMPOSSIBLE","description":"Je vais vous mettre en relation avec un conseiller qui va pouvoir traiter votre demande d'augmentation de plafonds de virement","handler":"s_show_msg_cannot_change_limit","answer":"Je vais vous mettre en relation avec un conseiller qui va pouvoir traiter votre demande d'augmentation de plafonds de virement","inputContextNames":["CANNOT_CHANGE_LIMIT","LIMIT_EXCEDED"],"outputContextNames":["RESOLVE_LIMIT_DONE"],"final":false,"answerId":"app_scenario_Je vais vous mettre en relation avec un conseiller qui va pouvoir traiter votre demande d'augmentation de plafonds de virement"}},{"id":11,"parentIds":[9],"from":"bot","text":"Fin objectif plafond virement","final":true,"actionDefinition":{"name":"FIN_OBJECTIF_PLAFOND_VIREMENT","description":"Fin objectif plafond virement","answer":"Fin objectif plafond virement","inputContextNames":["RESOLVE_LIMIT_DONE"],"outputContextNames":[],"final":true,"answerId":"app_scenario_Fin objectif plafond virement"}},{"id":12,"parentIds":[0],"from":"bot","text":"Intro","actionDefinition":{"name":"INTRO","description":"Intro","inputContextNames":[],"outputContextNames":[],"final":false}}],"contexts":[{"name":"MONTANT_VIREMENT","type":"string","entityType":"app:montant","entityRole":"montant"},{"name":"SERVICE_AVAILABLE","type":"string"},{"name":"SERVICE_UNAVAILABLE","type":"string"},{"name":"RESOLVE_LIMIT_DONE","type":"string"},{"name":"DESTINATION_VIREMENT","type":"string","entityType":"app:destination_virement","entityRole":"destination_virement"},{"name":"LIMIT_EXCEDED","type":"string"},{"name":"CAN_CHANGE_LIMIT","type":"string"},{"name":"CANNOT_CHANGE_LIMIT","type":"string"}],"stateMachine":{"id":"root","type":"parallel","states":{"Global":{"id":"Global","states":{"PLAFONDS_VIREMENT":{"id":"PLAFONDS_VIREMENT","states":{"VERIFIER_SERVICE_MODIFICATION_PLAFONDS":{"id":"VERIFIER_SERVICE_MODIFICATION_PLAFONDS"},"DEMANDER_MONTANT":{"id":"DEMANDER_MONTANT"},"REDIRECTION_CONSEILLER":{"id":"REDIRECTION_CONSEILLER"},"DEMANDER_DESTINATION_VIREMENT":{"id":"DEMANDER_DESTINATION_VIREMENT"},"VERIFIER_PLAFONDS":{"id":"VERIFIER_PLAFONDS"},"AFFICHER_PROCEDURE_MODIFICATION_PLAFOND_VIREMENT":{"id":"AFFICHER_PROCEDURE_MODIFICATION_PLAFOND_VIREMENT"},"REDIRECTION_CONSEILLER_MODIF_IMPOSSIBLE":{"id":"REDIRECTION_CONSEILLER_MODIF_IMPOSSIBLE"},"FIN_OBJECTIF_PLAFOND_VIREMENT":{"id":"FIN_OBJECTIF_PLAFOND_VIREMENT"}},"on":{"ipreciserdestination":"#FIN_OBJECTIF_PLAFOND_VIREMENT","iprecisermontant":"#FIN_OBJECTIF_PLAFOND_VIREMENT"},"initial":"FIN_OBJECTIF_PLAFOND_VIREMENT"},"INTRO":{"id":"INTRO"}},"on":{"iproblemevirement":"#PLAFONDS_VIREMENT"},"initial":"INTRO"}},"initial":"Global","on":{}}}}]}