{
  "scenarios": [
    {
      "id": 10,
      "name": "test Scenario 1",
      "description": "Description 1 Lorem, ipsum dolor sit amet consectetur adipisicing elit. Deserunt atque tenetur perspiciatis aliquam maxime quas? Inventore voluptatibus architecto nam ab autem nostrum, atque aliquam odio veniam animi tenetur consequatur aut?",
      "category": "default",
      "tags": [
        "tag1",
        "tag2"
      ],
      "creationDate": "01/01/1970",
      "updateDate": "02/01/1970",
      "data": {
        "scenarioItems": []
      }
    },
    {
      "id": 1,
      "name": "test Scenario 1",
      "description": "Description 1",
      "category": "scenarios",
      "tags": [
        "tag1",
        "tag2"
      ],
      "creationDate": "01/01/1970",
      "updateDate": "02/01/1970",
      "data": {
        "scenarioItems": []
      }
    },
    {
      "id": 2,
      "name": "a Scenario 2",
      "description": "Description 2",
      "category": "scenarios",
      "tags": [
        "tag1",
        "tag2"
      ],
      "creationDate": "01/01/1970",
      "updateDate": "02/01/1970",
      "data": {
        "scenarioItems": [
          {
            "id": 0,
            "from": "client",
            "text": "A new sentence to test Subentities",
            "main": true,
            "intentDefinition": {
              "primary": true,
              "label": "Sentence with entities",
              "name": "sentencewithentities",
              "category": null,
              "description": null,
              "intentId": "62bb118e49e78735af27aa98",
              "sentences": [
                {
                  "namespace": "app",
                  "applicationName": "new_assistant",
                  "language": "fr",
                  "query": "A sentence where i want to define an entity",
                  "checkExistingQuery": false,
                  "state": "",
                  "classification": {
                    "entities": []
                  }
                },
                {
                  "namespace": "app",
                  "applicationName": "new_assistant",
                  "language": "fr",
                  "query": "A very very very very very very very very very very very very very very very very very very very very very very very very very very very long sentence that spans over at least two or more lines where i want to define an entity",
                  "checkExistingQuery": false,
                  "state": "",
                  "classification": {
                    "entities": []
                  }
                },
                {
                  "namespace": "app",
                  "applicationName": "new_assistant",
                  "language": "fr",
                  "query": "Sentence to create",
                  "checkExistingQuery": false,
                  "state": "",
                  "classification": {
                    "entities": [
                      {
                        "type": "app:sentencetype",
                        "role": "sentencerole",
                        "start": 0,
                        "end": 8,
                        "entityColor": "#ccd3b5"
                      },
                      {
                        "type": "app:parententity",
                        "role": "parententity",
                        "start": 9,
                        "end": 11,
                        "entityColor": "#d77d55"
                      },
                      {
                        "type": "app:sentencetype",
                        "role": "sentencerole",
                        "start": 12,
                        "end": 18,
                        "entityColor": "#ccd3b5"
                      }
                    ]
                  }
                }
              ]
            }
          },
          {
            "id": 1,
            "parentIds": [
              0
            ],
            "from": "bot",
            "text": "an action",
            "tickActionDefinition": {
              "name": "AN_ACTION",
              "description": "an action",
              "handler": null,
              "answer": null,
              "inputContextNames": [],
              "outputContextNames": []
            }
          },
          {
            "id": 2,
            "parentIds": [
              0
            ],
            "from": "bot",
            "text": "Another action",
            "tickActionDefinition": {
              "name": "ANOTHER_ACTION",
              "description": "Another action",
              "handler": null,
              "answer": null,
              "inputContextNames": [],
              "outputContextNames": []
            }
          },
          {
            "id": 3,
            "parentIds": [
              2
            ],
            "from": "client",
            "text": "Other test sentence",
            "intentDefinition": {
              "label": "Other test sentence",
              "name": "otherTestSentence",
              "category": "scenarios",
              "description": null,
              "primary": false,
              "sentences": []
            }
          },
          {
            "id": 4,
            "parentIds": [
              1
            ],
            "from": "client",
            "text": "A test sentence",
            "intentDefinition": {
              "label": "A test sentence",
              "name": "aTestSentence",
              "category": "scenarios",
              "description": null,
              "primary": false,
              "sentences": []
            }
          }
        ],
        "contexts": [],
        "stateMachine": {
          "id": "root",
          "type": "parallel",
          "states": {
            "Global": {
              "id": "Global",
              "states": {
                "AN_ACTION": {
                  "id": "AN_ACTION"
                },
                "ANOTHER_ACTION": {
                  "id": "ANOTHER_ACTION"
                }
              },
              "on": {
                "sentencewithentities": "AN_ACTION"
              },
              "initial": "AN_ACTION"
            }
          },
          "initial": "Global",
          "on": {}
        }
      },
      "mode": "production"
    },
    {
      "id": 3,
      "name": "Faire virement",
      "description": "",
      "category": "scenarios",
      "tags": [],
      "creationDate": "26/04/2022",
      "updateDate": "26/04/2022",
      "data": {
        "scenarioItems": [
          {
            "id": 0,
            "from": "client",
            "text": "Je n'arrive pas à virer 2000 €",
            "main": true,
            "intentDefinition": {
              "primary": true,
              "label": null,
              "name": "je_veux_fa",
              "category": "build",
              "description": null,
              "intentId": "62879e420f199e5793b64e75",
              "sentences": []
            }
          },
          {
            "id": 2,
            "parentIds": [
              0
            ],
            "from": "bot",
            "text": "Vérifier si le service est disponible pour les clients",
            "tickActionDefinition": {
              "name": "sdfdfsdfsdf",
              "description": "sdf sdf sdf sdf ",
              "handler": " sdf sdf sdf ",
              "answer": " sdf sdf sdf sdf",
              "inputContextNames": [
                "AMOUNT"
              ],
              "outputContextNames": []
            }
          },
          {
            "id": 3,
            "parentIds": [
              2
            ],
            "from": "bot",
            "text": "Réponse OK : Quel montant souhaitez-vous virer ?",
            "tickActionDefinition": {
              "name": "AMOUNT",
              "description": null,
              "handler": null,
              "answer": "Quel montant souhaitez-vous virer ?",
              "inputContextNames": [
                "AMOUNT"
              ],
              "outputContextNames": []
            }
          },
          {
            "id": 4,
            "parentIds": [
              2
            ],
            "from": "bot",
            "text": "Réponse KO : Message de service indisponible, il faut une intervention d'un conseiller.\nProposer au client:\n- Débranchement\n- Message conseiller pour rappel"
          },
          {
            "id": 5,
            "parentIds": [
              3
            ],
            "from": "client",
            "text": "2000€"
          },
          {
            "id": 6,
            "parentIds": [
              5
            ],
            "from": "bot",
            "text": "Virement en France ou à l'étranger?"
          },
          {
            "id": 7,
            "parentIds": [
              6
            ],
            "from": "client",
            "text": "En France"
          },
          {
            "id": 8,
            "parentIds": [
              7
            ],
            "from": "bot",
            "text": "Appel API :\nCalculer l'encours et comparer aux plafonds du client"
          },
          {
            "id": 9,
            "parentIds": [
              17
            ],
            "from": "bot",
            "text": "Appel API :\nVérifier si possible de le faire en autonomie pour le client (vérifier si ça dépasse la limite ou pas)"
          },
          {
            "id": 12,
            "parentIds": [
              6
            ],
            "from": "client",
            "text": "A l'étranger"
          },
          {
            "id": 13,
            "parentIds": [
              4
            ],
            "from": "client",
            "text": "Je veux parler à un conseiller"
          },
          {
            "id": 14,
            "parentIds": [
              4
            ],
            "from": "client",
            "text": "Laisser un message à mon conseiller"
          },
          {
            "id": 15,
            "parentIds": [
              14
            ],
            "from": "bot",
            "text": "Appel API:\nEnvoyer message au conseiller"
          },
          {
            "id": 16,
            "parentIds": [
              15
            ],
            "from": "bot",
            "text": "Confirmer l'envoi du message au conseiller",
            "final": true
          },
          {
            "id": 17,
            "parentIds": [
              8
            ],
            "from": "bot",
            "text": "Donner l'information que le plafond dépassé"
          },
          {
            "id": 18,
            "parentIds": [
              9
            ],
            "from": "bot",
            "text": "Eligible & Limite non dépassée : \nProposer de modifier lui-même ses plafonds (lien vers la page du site / lien sur l'applicaion)",
            "final": true
          },
          {
            "id": 19,
            "parentIds": [
              9
            ],
            "from": "bot",
            "text": "Eligible & Limite dépassée et CDR ouvert : \nDébranchement vers un conseiller pour faire la modification",
            "final": true
          },
          {
            "id": 20,
            "parentIds": [
              9
            ],
            "from": "bot",
            "text": "Eligible & Limite dépassée et HNO : \nMessage revenir demain",
            "final": true
          },
          {
            "id": 21,
            "parentIds": [
              9
            ],
            "from": "bot",
            "text": "Non éligible : \nMessage revenir demain",
            "final": true
          },
          {
            "id": 22,
            "parentIds": [
              13
            ],
            "from": "bot",
            "text": "CDR ouvert : \nDébranchement vers un conseiller pour faire la modification",
            "final": true
          },
          {
            "id": 23,
            "parentIds": [
              13
            ],
            "from": "bot",
            "text": "HNO :\nMessage revenir demain",
            "final": true
          },
          {
            "id": 24,
            "parentIds": [
              15
            ],
            "from": "bot",
            "text": "Echec envoi message",
            "final": true
          }
        ],
        "contexts": [
          {
            "name": "AMOUNT",
            "type": "string",
            "entityType": "duckling:amount-of-money",
            "entityRole": "amount-of-money"
          }
        ]
      },
      "mode": "casting"
    },
    {
      "id": 4,
      "name": "Activer carte",
      "description": "",
      "category": "scenarios",
      "tags": [],
      "creationDate": "26/04/2022",
      "updateDate": "26/04/2022",
      "data": {
        "scenarioItems": [
          {
            "id": 0,
            "from": "client",
            "text": "Comment faire pour activer ma carte Max suite à une opposition ?",
            "main": true,
            "intentDefinition": {
              "primary": true,
              "label": null,
              "name": "comment_fa",
              "category": "build",
              "description": null,
              "intentId": "6294ce2ebabad268692173f4",
              "sentences": [
                {
                  "namespace": "app",
                  "applicationName": "new_assistant",
                  "language": "fr",
                  "query": "Comment activer ma carte ?",
                  "checkExistingQuery": false,
                  "state": "",
                  "classification": {
                    "entities": []
                  }
                }
              ]
            }
          },
          {
            "id": 1,
            "parentIds": [
              0
            ],
            "from": "bot",
            "text": "Recup identifiant Topaze.",
            "tickActionDefinition": {
              "name": "RECUP_IDENTIFIANT_TOPAZE",
              "description": null,
              "handler": "getTopazeId",
              "answer": "Veuillez patienter pendant que je récupère votre identifiant...",
              "inputContextNames": [],
              "outputContextNames": [
                "IDENTIFIANT_TOPAZE"
              ]
            }
          },
          {
            "id": 2,
            "parentIds": [
              1
            ],
            "from": "bot",
            "text": "Souhaitez-vous :\n- Activer une nouvelle carte max ?\n\n- Ou activer une carte bancaire externe que vous avez ajoutée dans l'application ?",
            "tickActionDefinition": {
              "name": "IS_MAX_OR_EXTERNAL_CART",
              "description": null,
              "handler": null,
              "answer": "Souhaitez-vous :\n- Activer une nouvelle carte max ?\n\n- Ou activer une carte bancaire externe que vous avez ajoutée dans l'application ?",
              "inputContextNames": [
                "IDENTIFIANT_TOPAZE"
              ],
              "outputContextNames": []
            }
          },
          {
            "id": 3,
            "parentIds": [
              2
            ],
            "from": "client",
            "text": "Activer carte bancaire externe",
            "intentDefinition": {
              "label": "Activer carte bancaire externe",
              "name": "activercartebancaireexterne",
              "category": "scenarios",
              "description": null
            }
          },
          {
            "id": 4,
            "parentIds": [
              2
            ],
            "from": "client",
            "text": "Activer ma carte max",
            "intentDefinition": {
              "label": "Activer ma carte max",
              "name": "activermacartemax",
              "primary": true,
              "category": "scenarios",
              "description": "Activer carte Aumax",
              "sentences": [
                {
                  "namespace": "app",
                  "applicationName": "new_assistant",
                  "language": "fr",
                  "query": "Activer ma carte max",
                  "checkExistingQuery": false,
                  "state": "",
                  "classification": {
                    "entities": []
                  }
                },
                {
                  "namespace": "app",
                  "applicationName": "new_assistant",
                  "language": "fr",
                  "query": "comment activer ma carte max ?",
                  "checkExistingQuery": false,
                  "state": "",
                  "classification": {
                    "entities": []
                  }
                }
              ]
            }
          },
          {
            "id": 5,
            "parentIds": [
              3
            ],
            "from": "bot",
            "text": "Lors de l'ajout de votre carte, un paiement d'authentification de 35€ est fait.\n\nRetrouvez-le sous 3 jours environ sur le relevé bancaire de la carte scannée avec le libellé MAX*XXXX ; les XXXX correspondent à un code chiffré aléatoire à saisir dans l'onglet \"carte max\".\n\nCe montant sera remboursé sous 72h sur votre compte externe.",
            "final": true,
            "tickActionDefinition": {
              "name": "OTHER_CARD_ANSWER",
              "description": "Lors de l'ajout de votre carte, un paiement d'authentification de 35€ est fait.\n\nRetrouvez-le sous 3 jours environ sur le relevé bancaire de la carte scannée avec le libellé MAX*XXXX ; les XXXX correspondent à un code chiffré aléatoire à saisir dans l'onglet \"carte max\".\n\nCe montant sera remboursé sous 72h sur votre compte externe.",
              "handler": null,
              "answer": "Lors de l'ajout de votre carte, un paiement d'authentification de 35€ est fait.\n\nRetrouvez-le sous 3 jours environ sur le relevé bancaire de la carte scannée avec le libellé MAX*XXXX ; les XXXX correspondent à un code chiffré aléatoire à saisir dans l'onglet \"carte max\".\n\nCe montant sera remboursé sous 72h sur votre compte externe.",
              "inputContextNames": [],
              "outputContextNames": []
            }
          },
          {
            "id": 6,
            "parentIds": [
              4
            ],
            "from": "bot",
            "text": "Est-ce :\n- Une première carte suite à votre souscription ?\n\n- Ou une nouvelle carte suite à une opposition ?\n\n- Ou une nouvelle carte suite à une montée en gamme ?\n\n- Ou une nouvelle carte suite à un renouvellement automatique/anticipé ?",
            "tickActionDefinition": {
              "name": "IS_SUBSCRIPTION_OPPOSITION_UPGRADE_OR_RENEWAL",
              "description": "Est-ce :\n- Une première carte suite à votre souscription ?\n\n- Ou une nouvelle carte suite à une opposition ?\n\n- Ou une nouvelle carte suite à une montée en gamme ?\n\n- Ou une nouvelle carte suite à un renouvellement automatique/anticipé ?",
              "handler": null,
              "answer": "Est-ce :\n- Une première carte suite à votre souscription ?\n\n- Ou une nouvelle carte suite à une opposition ?\n\n- Ou une nouvelle carte suite à une montée en gamme ?\n\n- Ou une nouvelle carte suite à un renouvellement automatique/anticipé ?",
              "inputContextNames": [
                "IS_CART_MAX"
              ],
              "outputContextNames": [
                "SUBSCRIPTION",
                "OPPOSITION",
                "UPGRADE",
                "RENEWAL"
              ]
            }
          },
          {
            "id": 7,
            "parentIds": [
              6
            ],
            "from": "client",
            "text": "Souscription",
            "intentDefinition": {
              "label": "Souscription",
              "name": "souscription",
              "category": "scenarios",
              "description": null,
              "sentences": [
                {
                  "namespace": "app",
                  "applicationName": "new_assistant",
                  "language": "fr",
                  "query": "Souscription",
                  "checkExistingQuery": false,
                  "state": "",
                  "classification": {
                    "entities": []
                  }
                }
              ]
            }
          },
          {
            "id": 8,
            "parentIds": [
              6
            ],
            "from": "client",
            "text": "Opposition",
            "intentDefinition": {
              "label": "Opposition",
              "name": "opposition",
              "category": "scenarios",
              "description": null,
              "sentences": [
                {
                  "namespace": "app",
                  "applicationName": "new_assistant",
                  "language": "fr",
                  "query": "Opposition",
                  "checkExistingQuery": false,
                  "state": "",
                  "classification": {
                    "entities": []
                  }
                }
              ]
            }
          },
          {
            "id": 9,
            "parentIds": [
              6
            ],
            "from": "client",
            "text": "Renouvellement",
            "intentDefinition": {
              "label": "Renouvellement",
              "name": "renouvellement",
              "category": "scenarios",
              "description": null,
              "sentences": [
                {
                  "namespace": "app",
                  "applicationName": "new_assistant",
                  "language": "fr",
                  "query": "Renouvellement",
                  "checkExistingQuery": false,
                  "state": "",
                  "classification": {
                    "entities": []
                  }
                }
              ]
            }
          },
          {
            "id": 10,
            "parentIds": [
              6
            ],
            "from": "client",
            "text": "Montée en gamme",
            "intentDefinition": {
              "label": "Montée en gamme",
              "name": "monteeEnGamme",
              "category": "scenarios",
              "description": null,
              "sentences": [
                {
                  "namespace": "app",
                  "applicationName": "new_assistant",
                  "language": "fr",
                  "query": "Montée en gamme",
                  "checkExistingQuery": false,
                  "state": "",
                  "classification": {
                    "entities": []
                  }
                }
              ]
            }
          },
          {
            "id": 11,
            "parentIds": [
              7
            ],
            "from": "bot",
            "text": "Lors de la commande, avez-vous scanné une carte bancaire ou avez-vous fait un selfie ?"
          },
          {
            "id": 12,
            "parentIds": [
              11
            ],
            "from": "client",
            "text": "J'ai scanné une carte"
          },
          {
            "id": 13,
            "parentIds": [
              11
            ],
            "from": "client",
            "text": "J'ai fait un selfie"
          },
          {
            "id": 14,
            "parentIds": [
              12
            ],
            "from": "bot",
            "text": "Lors du scan de votre carte bancaire, un paiement d'authentification de 35€ a été fait.\n\nRetrouvez-le sous 3 jours environ sur le relevé bancaire de la carte scannée avec le libellé MAX*XXXX ; les XXXX correspondent à un code chiffré aléatoire à saisir dans l'onglet \"carte max\".\n\nCe montant sera remboursé sous 72h sur votre compte externe.",
            "final": true
          },
          {
            "id": 15,
            "parentIds": [
              13
            ],
            "from": "bot",
            "text": "Pour activer la carte, il suffit de vous rendre dans la rubrique “carte max”, de saisir ses 16 chiffres et de vous laisser guider.",
            "final": true
          },
          {
            "id": 16,
            "parentIds": [
              8
            ],
            "from": "bot",
            "text": "Pouvez-vous m'indiquer les 4 derniers chiffres de la nouvelle carte max ?"
          },
          {
            "id": 17,
            "parentIds": [
              16
            ],
            "from": "client",
            "text": "1234"
          },
          {
            "id": 18,
            "parentIds": [
              17
            ],
            "from": "bot",
            "text": "Activation auto"
          },
          {
            "id": 19,
            "parentIds": [
              18
            ],
            "from": "bot",
            "text": "Réponse OK: Ok c'est activé",
            "final": true
          },
          {
            "id": 20,
            "parentIds": [
              18
            ],
            "from": "bot",
            "text": "Réponse KO : Redirection vers un assistant",
            "final": true
          },
          {
            "id": 21,
            "parentIds": [
              9,
              10
            ],
            "from": "bot",
            "text": "Pour activer la carte, il vous suffit de faire une opération avec le code PIN de la carte (retrait ou paiement) en France métropolitaine. Les opérations \"sans contact\" et par internet seront actives après cela.\n\nVotre code PIN n'a pas changé :)",
            "final": true,
            "tickActionDefinition": {
              "name": "HOW_TO_ACTIVATE_MAX_CARD",
              "description": "",
              "handler": null,
              "answer": "Pour activer la carte, il vous suffit de faire une opération avec le code PIN de la carte (retrait ou paiement) en France métropolitaine. Les opérations \"sans contact\" et par internet seront actives après cela.\n\nVotre code PIN n'a pas changé :)",
              "inputContextNames": [],
              "outputContextNames": []
            }
          }
        ],
        "contexts": [
          {
            "name": "IS_CART_MAX",
            "type": "string",
            "entityType": "app:carte_max",
            "entityRole": "carte_max"
          },
          {
            "name": "SUBSCRIPTION",
            "type": "string"
          },
          {
            "name": "OPPOSITION",
            "type": "string",
            "entityType": "app:opposition",
            "entityRole": "opposition"
          },
          {
            "name": "UPGRADE",
            "type": "string"
          },
          {
            "name": "RENEWAL",
            "type": "string"
          },
          {
            "name": "IDENTIFIANT_TOPAZE",
            "type": "string"
          }
        ],
        "stateMachine": {
          "id": "root",
          "type": "parallel",
          "states": {
            "Global": {
              "id": "Global",
              "states": {
                "ACTIVATE_CARD": {
                  "id": "ACTIVATE_CARD",
                  "states": {
                    "RECUP_IDENTIFIANT_TOPAZE": {
                      "id": "RECUP_IDENTIFIANT_TOPAZE"
                    },
                    "IS_MAX_OR_EXTERNAL_CART": {
                      "id": "IS_MAX_OR_EXTERNAL_CART"
                    },
                    "OTHER_CARD_ANSWER": {
                      "id": "OTHER_CARD_ANSWER"
                    },
                    "ACTIVATE_MAX_CARD": {
                      "id": "ACTIVATE_MAX_CARD",
                      "states": {
                        "IS_SUBSCRIPTION_OPPOSITION_UPGRADE_OR_RENEWAL": {
                          "id": "IS_SUBSCRIPTION_OPPOSITION_UPGRADE_OR_RENEWAL"
                        },
                        "HOW_TO_ACTIVATE_MAX_CARD": {
                          "id": "HOW_TO_ACTIVATE_MAX_CARD"
                        }
                      },
                      "on": {
                        "renouvellement": "HOW_TO_ACTIVATE_MAX_CARD",
                        "monteeEnGamme": "HOW_TO_ACTIVATE_MAX_CARD"
                      },
                      "initial": "IS_SUBSCRIPTION_OPPOSITION_UPGRADE_OR_RENEWAL"
                    }
                  },
                  "on": {
                    "activercartebancaireexterne": "OTHER_CARD_ANSWER"
                  },
                  "initial": "RECUP_IDENTIFIANT_TOPAZE"
                }
              },
              "on": {
                "comment_fa": "ACTIVATE_CARD",
                "activermacartemax": "ACTIVATE_CARD"
              },
              "initial": "ACTIVATE_CARD"
            }
          },
          "initial": "Global",
          "on": {}
        }
      },
      "mode": "production"
    },
    {
      "id": 5,
      "name": "Prendre rdv",
      "description": "",
      "category": "scenarios",
      "tags": [],
      "creationDate": "26/04/2022",
      "updateDate": "26/04/2022",
      "data": {
        "scenarioItems": [
          {
            "id": 0,
            "from": "client",
            "text": "Bonjour, je souhaite prendre un rdv",
            "main": true,
            "intentDefinition": {
              "primary": true,
              "label": "Bonjour, je souhaite prendre un rdv",
              "name": "bonjourJeSouhaitePrendreUnRdv",
              "category": "scenarios",
              "description": null,
              "sentences": [
                {
                  "namespace": "app",
                  "applicationName": "new_assistant",
                  "language": "fr",
                  "query": "Bonjour, je souhaite prendre un rdv",
                  "checkExistingQuery": false,
                  "state": "",
                  "classification": {
                    "entities": []
                  }
                },
                {
                  "namespace": "app",
                  "applicationName": "new_assistant",
                  "language": "fr",
                  "query": "Je souhaite prendre un rdv",
                  "checkExistingQuery": false,
                  "state": "",
                  "classification": {
                    "entities": []
                  }
                },
                {
                  "namespace": "app",
                  "applicationName": "new_assistant",
                  "language": "fr",
                  "query": "Comment obtenir un rendez-vous ?",
                  "checkExistingQuery": false,
                  "state": "",
                  "classification": {
                    "entities": []
                  }
                },
                {
                  "namespace": "app",
                  "applicationName": "new_assistant",
                  "language": "fr",
                  "query": "Comment prendre rendez vous",
                  "checkExistingQuery": false,
                  "state": "",
                  "classification": {
                    "entities": []
                  }
                },
                {
                  "namespace": "app",
                  "applicationName": "new_assistant",
                  "language": "fr",
                  "query": "Je souhaite prendre un rdv téléphonique",
                  "checkExistingQuery": false,
                  "state": "",
                  "classification": {
                    "entities": [
                      {
                        "type": "app:canalphone",
                        "role": "canalphone",
                        "start": 27,
                        "end": 39,
                        "entityColor": "#fb6a86"
                      }
                    ]
                  }
                },
                {
                  "namespace": "app",
                  "applicationName": "new_assistant",
                  "language": "fr",
                  "query": "Je souhaite prendre un rdv au guichet",
                  "checkExistingQuery": false,
                  "state": "",
                  "classification": {
                    "entities": [
                      {
                        "type": "app:canalcounter",
                        "role": "canalcounter",
                        "start": 27,
                        "end": 37,
                        "entityColor": "#f2babd"
                      }
                    ]
                  }
                },
                {
                  "namespace": "app",
                  "applicationName": "new_assistant",
                  "language": "fr",
                  "query": "Je souhaite prendre un rdv en visio",
                  "checkExistingQuery": false,
                  "state": "",
                  "classification": {
                    "entities": [
                      {
                        "type": "app:canalvisio",
                        "role": "canalvisio",
                        "start": 27,
                        "end": 35,
                        "entityColor": "#83756a"
                      }
                    ]
                  }
                }
              ]
            }
          },
          {
            "id": 1,
            "parentIds": [
              0
            ],
            "from": "bot",
            "text": "Sur quel canal ? En caisse, par téléphone ou en visio ?",
            "tickActionDefinition": {
              "name": "WICH_CANAL",
              "description": "Sur quel canal ? En caisse, par téléphone ou en visio ?",
              "handler": null,
              "answer": "Sur quel canal ? En caisse, par téléphone ou en visio ?",
              "inputContextNames": [],
              "outputContextNames": [
                "CANAL_COUNTER",
                "CANAL_PHONE",
                "CANAL_VISIO"
              ]
            }
          },
          {
            "id": 2,
            "parentIds": [
              1
            ],
            "from": "client",
            "text": "En caisse",
            "intentDefinition": {
              "label": "at counter",
              "name": "atCounter",
              "category": "scenarios",
              "description": null,
              "sentences": [
                {
                  "namespace": "app",
                  "applicationName": "new_assistant",
                  "language": "fr",
                  "query": "en caisse",
                  "checkExistingQuery": false,
                  "state": "",
                  "classification": {
                    "entities": []
                  }
                },
                {
                  "namespace": "app",
                  "applicationName": "new_assistant",
                  "language": "fr",
                  "query": "au guichet",
                  "checkExistingQuery": false,
                  "state": "",
                  "classification": {
                    "entities": []
                  }
                },
                {
                  "namespace": "app",
                  "applicationName": "new_assistant",
                  "language": "fr",
                  "query": "je souhaite rencontrer un conseiller",
                  "checkExistingQuery": false,
                  "state": "",
                  "classification": {
                    "entities": []
                  }
                }
              ]
            }
          },
          {
            "id": 3,
            "parentIds": [
              1
            ],
            "from": "client",
            "text": "Par téléphone",
            "intentDefinition": {
              "label": "by phone",
              "name": "byPhone",
              "category": "scenarios",
              "description": null,
              "sentences": [
                {
                  "namespace": "app",
                  "applicationName": "new_assistant",
                  "language": "fr",
                  "query": "par téléphone",
                  "checkExistingQuery": false,
                  "state": "",
                  "classification": {
                    "entities": []
                  }
                },
                {
                  "namespace": "app",
                  "applicationName": "new_assistant",
                  "language": "fr",
                  "query": "je préfère par téléphone",
                  "checkExistingQuery": false,
                  "state": "",
                  "classification": {
                    "entities": []
                  }
                }
              ]
            }
          },
          {
            "id": 4,
            "parentIds": [
              1
            ],
            "from": "client",
            "text": "En visio",
            "intentDefinition": {
              "label": "By visio",
              "name": "byVisio",
              "primary": false,
              "category": "scenarios",
              "description": null,
              "sentences": [
                {
                  "namespace": "app",
                  "applicationName": "new_assistant",
                  "language": "fr",
                  "query": "En visio",
                  "checkExistingQuery": false,
                  "state": "",
                  "classification": {
                    "entities": []
                  }
                },
                {
                  "namespace": "app",
                  "applicationName": "new_assistant",
                  "language": "fr",
                  "query": "Visioconférence",
                  "checkExistingQuery": false,
                  "state": "",
                  "classification": {
                    "entities": []
                  }
                },
                {
                  "namespace": "app",
                  "applicationName": "new_assistant",
                  "language": "fr",
                  "query": "Je préfère la visio",
                  "checkExistingQuery": false,
                  "state": "",
                  "classification": {
                    "entities": []
                  }
                }
              ]
            }
          },
          {
            "id": 5,
            "parentIds": [
              2,
              3
            ],
            "from": "bot",
            "final": true,
            "text": "Pour prendre rdv vous pouvez vous rendre ici : Lien vers page de prise rdv",
            "tickActionDefinition": {
              "name": "APPOINTMENT_LINK",
              "description": "Pour prendre rdv vous pouvez vous rendre ici : Lien vers page de prise rdv",
              "handler": null,
              "answer": "Pour prendre rdv vous pouvez vous rendre ici : Lien vers page de prise rdv",
              "inputContextNames": [
                "CANAL_COUNTER",
                "CANAL_PHONE"
              ],
              "outputContextNames": []
            }
          },
          {
            "id": 8,
            "parentIds": [
              4
            ],
            "from": "bot",
            "text": "Disposez-vous d'une webcam et d'un micro ?",
            "tickActionDefinition": {
              "name": "APPOINTMENT_VISIO",
              "description": "Disposez-vous d'une webcam et d'un micro ?",
              "handler": null,
              "answer": "Disposez-vous d'une webcam et d'un micro ?",
              "inputContextNames": [
                "CANAL_VISIO"
              ],
              "outputContextNames": [
                "DONT_HAVE_WEBCAM_AND_MIC",
                "HAVE_WEBCAM_AND_MIC"
              ]
            }
          },
          {
            "id": 9,
            "parentIds": [
              8
            ],
            "from": "client",
            "text": "non",
            "intentDefinition": {
              "label": "non",
              "name": "non",
              "category": "scenarios",
              "description": null,
              "sentences": [
                {
                  "namespace": "app",
                  "applicationName": "new_assistant",
                  "language": "fr",
                  "query": "non",
                  "checkExistingQuery": false,
                  "state": "",
                  "classification": {
                    "entities": []
                  }
                },
                {
                  "namespace": "app",
                  "applicationName": "new_assistant",
                  "language": "fr",
                  "query": "non je n'en ai pas",
                  "checkExistingQuery": false,
                  "state": "",
                  "classification": {
                    "entities": []
                  }
                },
                {
                  "namespace": "app",
                  "applicationName": "new_assistant",
                  "language": "fr",
                  "query": "J'ai une webcam mais pas de micro",
                  "checkExistingQuery": false,
                  "state": "",
                  "classification": {
                    "entities": []
                  }
                },
                {
                  "namespace": "app",
                  "applicationName": "new_assistant",
                  "language": "fr",
                  "query": "j'ai un micro mais pas de webcam",
                  "checkExistingQuery": false,
                  "state": "",
                  "classification": {
                    "entities": []
                  }
                }
              ]
            }
          },
          {
            "id": 10,
            "parentIds": [
              8
            ],
            "from": "client",
            "text": "oui",
            "intentDefinition": {
              "label": "oui",
              "name": "oui",
              "category": "scenarios",
              "description": null,
              "sentences": [
                {
                  "namespace": "app",
                  "applicationName": "new_assistant",
                  "language": "fr",
                  "query": "oui",
                  "checkExistingQuery": false,
                  "state": "",
                  "classification": {
                    "entities": []
                  }
                },
                {
                  "namespace": "app",
                  "applicationName": "new_assistant",
                  "language": "fr",
                  "query": "oui j'ai une wabcam et un micro",
                  "checkExistingQuery": false,
                  "state": "",
                  "classification": {
                    "entities": []
                  }
                },
                {
                  "namespace": "app",
                  "applicationName": "new_assistant",
                  "language": "fr",
                  "query": "oui j'ai les deux",
                  "checkExistingQuery": false,
                  "state": "",
                  "classification": {
                    "entities": []
                  }
                },
                {
                  "namespace": "app",
                  "applicationName": "new_assistant",
                  "language": "fr",
                  "query": "J'ai",
                  "checkExistingQuery": false,
                  "state": "",
                  "classification": {
                    "entities": []
                  }
                },
                {
                  "namespace": "app",
                  "applicationName": "new_assistant",
                  "language": "fr",
                  "query": "yes",
                  "checkExistingQuery": false,
                  "state": "",
                  "classification": {
                    "entities": []
                  }
                }
              ]
            }
          },
          {
            "id": 13,
            "parentIds": [
              10
            ],
            "from": "bot",
            "text": "Indiquez deux créneaux de dispo aux horaires d'ouverture des caisses",
            "tickActionDefinition": {
              "name": "WEBCAM_ANSWER",
              "description": "Indiquez deux créneaux de dispo aux horaires d'ouverture des caisses",
              "handler": null,
              "answer": "Indiquez deux créneaux de dispo aux horaires d'ouverture des caisses",
              "inputContextNames": [
                "HAVE_WEBCAM_AND_MIC"
              ],
              "outputContextNames": []
            }
          },
          {
            "id": 14,
            "parentIds": [
              13
            ],
            "from": "client",
            "text": "Quels sont les horaires d'ouverture des caisses ?",
            "intentDefinition": {
              "label": "Quels sont les horaires d'ouverture des caisses ?",
              "name": "quelsSontLesHorairesDOuvertureDesCaisses",
              "category": "scenarios",
              "description": null,
              "sentences": [
                {
                  "namespace": "app",
                  "applicationName": "new_assistant",
                  "language": "fr",
                  "query": "Quels sont les horaires d'ouverture des caisses ?",
                  "checkExistingQuery": false,
                  "state": "",
                  "classification": {
                    "entities": []
                  }
                },
                {
                  "namespace": "app",
                  "applicationName": "new_assistant",
                  "language": "fr",
                  "query": "Quels sont les créneaux horaire",
                  "checkExistingQuery": false,
                  "state": "",
                  "classification": {
                    "entities": []
                  }
                },
                {
                  "namespace": "app",
                  "applicationName": "new_assistant",
                  "language": "fr",
                  "query": "Pouvez vous m'indiquer les plages disponibles ?",
                  "checkExistingQuery": false,
                  "state": "",
                  "classification": {
                    "entities": []
                  }
                }
              ]
            }
          },
          {
            "id": 15,
            "parentIds": [
              14
            ],
            "from": "bot",
            "text": "Récupération des horaires caisse",
            "tickActionDefinition": {
              "name": "RECOVERY_OF_CASHIERS_HOURS",
              "description": "Récupération des horaires caisse",
              "handler": "CashiersHours",
              "answer": "Merci de patienter pendant que je récupère les plages horaires",
              "inputContextNames": [],
              "outputContextNames": [
                "CASHIERS_HOURS"
              ]
            }
          },
          {
            "id": 16,
            "parentIds": [
              15
            ],
            "from": "bot",
            "text": "Affichage des horaires d'ouverture caisses",
            "tickActionDefinition": {
              "name": "DISPLAY_OF_CASHIERS_HOURS",
              "description": "Affichage des horaires d'ouverture caisses",
              "handler": null,
              "answer": "Nos conseillers sont disponibles du lundi au vendredi de 8h à 20h",
              "inputContextNames": [
                "CASHIERS_HOURS"
              ],
              "outputContextNames": []
            }
          },
          {
            "id": 17,
            "parentIds": [
              16
            ],
            "from": "client",
            "text": "Je suis dispo le 05/03 à 14h ou le 07/03 à 15h",
            "intentDefinition": {
              "label": "Je suis dispo le",
              "name": "jesuisdispole",
              "category": "scenarios",
              "description": null,
              "sentences": [
                {
                  "namespace": "app",
                  "applicationName": "new_assistant",
                  "language": "fr",
                  "query": "Je suis dispo le 11/12 entre 18 et 20h",
                  "checkExistingQuery": false,
                  "state": "",
                  "classification": {
                    "entities": [
                      {
                        "type": "duckling:datetime",
                        "role": "day",
                        "start": 17,
                        "end": 22,
                        "entityColor": "#9e9461"
                      },
                      {
                        "type": "duckling:duration",
                        "role": "duration",
                        "start": 23,
                        "end": 38,
                        "entityColor": "#7c82b4"
                      }
                    ]
                  }
                },
                {
                  "namespace": "app",
                  "applicationName": "new_assistant",
                  "language": "fr",
                  "query": "le 20/01 de 9h à 12h ou le 27/01 de 13h à 18h",
                  "checkExistingQuery": false,
                  "state": "",
                  "classification": {
                    "entities": [
                      {
                        "type": "duckling:datetime",
                        "role": "day",
                        "start": 3,
                        "end": 8,
                        "entityColor": "#9e9461"
                      },
                      {
                        "type": "duckling:duration",
                        "role": "duration",
                        "start": 12,
                        "end": 20,
                        "entityColor": "#7c82b4"
                      },
                      {
                        "type": "duckling:datetime",
                        "role": "day",
                        "start": 27,
                        "end": 32,
                        "entityColor": "#9e9461"
                      },
                      {
                        "type": "duckling:duration",
                        "role": "duration",
                        "start": 36,
                        "end": 45,
                        "entityColor": "#7c82b4"
                      }
                    ]
                  }
                }
              ]
            }
          },
          {
            "id": 18,
            "parentIds": [
              17
            ],
            "from": "bot",
            "text": "Redirection vers un conseiller",
            "final": true,
            "tickActionDefinition": {
              "name": "REDIRECTION_TO_A_CONSULTANT",
              "description": "Redirection vers un conseiller",
              "handler": "RedirectionToConsultant",
              "answer": "Je vous redirige vers un conseiller. Merci de patienter un instant",
              "inputContextNames": [],
              "outputContextNames": []
            }
          },
          {
            "id": 20,
            "parentIds": [
              9
            ],
            "from": "bot",
            "text": "Pour prendre rdv vous pouvez vous rendre ici : Lien vers page de prise rdv",
            "tickActionDefinition": {
              "name": "NO_WEBCAM_ANSWER",
              "description": "Pour prendre rdv vous pouvez vous rendre ici : Lien vers page de prise rdv",
              "handler": null,
              "answer": "Pour prendre rdv vous pouvez vous rendre ici : Lien vers page de prise rdv",
              "inputContextNames": [
                "DONT_HAVE_WEBCAM_AND_MIC"
              ],
              "outputContextNames": []
            },
            "final": true
          }
        ],
        "contexts": [
          {
            "name": "CANAL_COUNTER",
            "type": "string",
            "entityType": "app:canalcounter",
            "entityRole": "canalcounter"
          },
          {
            "name": "CANAL_PHONE",
            "type": "string",
            "entityType": "app:canalphone",
            "entityRole": "canalphone"
          },
          {
            "name": "CANAL_VISIO",
            "type": "string",
            "entityType": "app:canalvisio",
            "entityRole": "canalvisio"
          },
          {
            "name": "DONT_HAVE_WEBCAM_AND_MIC",
            "type": "string"
          },
          {
            "name": "HAVE_WEBCAM_AND_MIC",
            "type": "string"
          },
          {
            "name": "CASHIERS_HOURS",
            "type": "string"
          }
        ],
        "stateMachine": {
          "id": "root",
          "type": "parallel",
          "states": {
            "Global": {
              "id": "Global",
              "states": {
                "GROUP_1": {
                  "id": "GROUP_1",
                  "states": {
                    "WICH_CANAL": {
                      "id": "WICH_CANAL"
                    },
                    "APPOINTMENT_VISIO": {
                      "id": "APPOINTMENT_VISIO"
                    },
                    "WEBCAM_ANSWER": {
                      "id": "WEBCAM_ANSWER"
                    },
                    "RECOVERY_OF_CASHIERS_HOURS": {
                      "id": "RECOVERY_OF_CASHIERS_HOURS"
                    },
                    "DISPLAY_OF_CASHIERS_HOURS": {
                      "id": "DISPLAY_OF_CASHIERS_HOURS"
                    },
                    "REDIRECTION_TO_A_CONSULTANT": {
                      "id": "REDIRECTION_TO_A_CONSULTANT"
                    },
                    "NO_WEBCAM_ANSWER": {
                      "id": "NO_WEBCAM_ANSWER"
                    },
                    "APPOINTMENT_LINK": {
                      "id": "APPOINTMENT_LINK"
                    }
                  },
                  "on": {
                    "byVisio": "APPOINTMENT_VISIO",
                    "oui": "WEBCAM_ANSWER",
                    "non": "NO_WEBCAM_ANSWER",
                    "quelsSontLesHorairesDOuvertureDesCaisses": "RECOVERY_OF_CASHIERS_HOURS",
                    "jesuisdispole": "REDIRECTION_TO_A_CONSULTANT",
                    "atCounter": "APPOINTMENT_LINK",
                    "byPhone": "APPOINTMENT_LINK"
                  },
                  "initial": "WICH_CANAL"
                }
              },
              "on": {
                "bonjourJeSouhaitePrendreUnRdv": "GROUP_1"
              },
              "initial": "WICH_CANAL"
            }
          },
          "initial": "Global",
          "on": {}
        }
      },
      "mode": "production"
    },
    {
      "id": 11,
      "category": "scenarios",
      "description": "https://stately.ai/viz/f6acaf2e-501d-4598-89e9-11a90672e269",
      "name": "StateMachine TRANSFER",
      "tags": [
        "stateMachines"
      ],
      "mode": "casting",
      "data": {
        "scenarioItems": [
          {
            "id": 0,
            "from": "client",
            "text": "Je n'arrive pas à faire mon virement",
            "main": true
          },
          {
            "id": 1,
            "parentIds": [
              0
            ],
            "from": "bot",
            "text": "STATE  => S_CHECK_SERVICE_AVAILABLE\nVérifier que le service modification de plafond en autonomie est dispo.\nINPUTS:\nnone\nOUTPUTS : \nCONTEXT.ServiceAvalaible\nCONTEXT.ServiceUnavalaible"
          },
          {
            "id": 2,
            "parentIds": [
              1
            ],
            "from": "bot",
            "text": "STATE  => "
          },
          {
            "id": 3,
            "parentIds": [
              1
            ],
            "from": "bot",
            "text": "\"Désolé le service est indisponible. Je vous redirige vers un opérateur\"\n\nSTATE  => S_SERVICE_UNAVAILABLE_REDIRECT\nOUTPUTS :\nCONTEXT.ServiceUnavalaible",
            "final": true
          }
        ]
      }
    }
  ]
}